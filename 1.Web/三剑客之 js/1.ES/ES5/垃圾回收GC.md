# 垃圾回收 / 垃圾收集 / GC
JS 在创建变量时自动分配内存，在不使用的时候会自动周期性释放内存，释放的过程就是垃圾回收
**原理**
找出那些不再继续使用的变量，然后释放其占用的内存，垃圾收集器会按照固定的时间间隔，周期性地执行这一操作。
**不清理的后果**
占用大量的内存空间，导致程序运行变慢
## 垃圾回收方式
### 标记清除
- 最常用的垃圾收集方式
- 当变量进入上下文/作用域时，就将这个变量标记为**进入环境**。从逻辑上讲，永远不能释放进入环境的变量所占用的内存，只要执行流进入相应的环境，就可能会用到他们。而当变量离开环境时，则将其标记为 **离开环境**

### 引用计数
- 跟踪纪录每个值被引用的次数
- 释放引用次数为 0 的变量所占用的内存
**循环引用的问题**
函数里如果两个对象互相引用，引用次数就不为0，两个都没法回收。频繁调用函数的话，会造成很严重的内存泄露

## 性能问题
- 垃圾收集器是周期性运行的，而且如果未变量分配的内存数量很客观，那么回收工作量也是相当大的。

## 自己优化内存占用-接触引用
- 未执行中的代码只保存必要的数据，一旦数据不再有用，最好通过将其值设置为 null 来释放其引用
- 接触引用并不意味着自动回收该值所占用的内存，而是让值脱离执行环境，以便垃圾收集器下次运行时将其回收
