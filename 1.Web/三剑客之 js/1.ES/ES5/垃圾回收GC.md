```
	function assignHandler(){
		var element = document.getElementById('someElement')
		element.onclick = function(){
			alert(element.id)
		}
		element = null
	}
	function assignHandler(){
		var element = document.getElementById('someElement')
		var id = element.id
		element.onclick = function(){
			alert(id)
		}
		element = null
	}
	assignHandler()

```
# 垃圾回收
- 或者叫做 “**垃圾收集**” ，GC；
- 程序运行过程会产生垃圾，垃圾积攒过多之后，会导致程序运行速度过慢。Javascript 具有自动垃圾收集机制，执行环境会负责管理代码执行过程中使用的内存
- **原理**：找出那些不再继续使用的变量，然后释放其占用的内存。垃圾收集器会按照固定的时间间隔，周期性地执行这一操作。
- 局部变量只在函数执行的过程中存在，会为局部变量在栈或堆内存上分配相应的空间，以便存储他们的值

- 当一个对象没有任何的变量或者属性值对它进行引用，此时我们将永远无法操作该对象。此时这种对象就是一个垃圾，这种对象过多会占用大量的内存空间，导致程序运行变慢，所以这种垃圾必须进行清理。
- 我们只需要将不再使用的对象设置为null即可
```
;(function(){
	var obj = new Object()
	obj = null
})();
```

## 标记清除
- 最常用的垃圾收集方式
- 当变量进入环境时，就将这个变量标记为"**进入环境**"。从逻辑上讲，永远不能释放进入环境的变量所占用的内存，只要执行流进入相应的环境，就可能会用到他们。而当变量离开环境时，则将其标记为 "**离开环境**"

## 引用计数
- 跟踪纪录每个值被**引用的次数**
- 释放引用次数为0的值所占用的内存

## 性能问题
- 垃圾收集器是周期性运行的，而且如果未变量分配的内存数量很客观，那么回收工作量也是相当大的。

## 管理内存
- js在进行内存管理及垃圾收集时面临的问题，就是分配给web浏览器的可用内存数量通常要比分配给桌面应用程序的少。
- 目的是：防止运行js的网页耗尽全部系统内存而导致系统崩溃
- 内存限制问题不仅会影响给变量分配内存，同时还会影响调用栈以及在一个现成中能够同时执行的语句数量
- 优化内存占用的最佳方式：未执行中的代码只保存必要的数据。一旦数据不再有用，最好通过将其值设置为null来释放其引用--这个做法叫做**接触引用**
- 接触引用并不意味着自动回收该值所占用的内存。真正作用是让值脱离执行环境，以便垃圾收集器下次运行时将其回收。