# HTTP3
虽然 HTTP/2 解决了很多之前旧版本的问题，但是它还是存在一个巨大的问题，虽然这个问题并不是它本身造成的，而是底层支撑的 TCP 协议的问题。

因为 HTTP/2 使用了多路复用，一般来说同一域名下只需要使用一个 TCP 连接。当这个连接中出现了丢包的情况，那就会导致 HTTP/2 的表现情况反倒不如 HTTP/1 了。

因为在出现丢包的情况下，整个 TCP 都要开始等待重传，也就导致了后面的所有数据都被阻塞了。但是对于 HTTP/1 来说，可以开启多个 TCP 连接，出现这种情况反到只会影响其中一个连接，剩余的 TCP 连接还可以正常传输数据。

那么可能就会有人考虑到去修改 TCP 协议，其实这已经是一件不可能完成的任务了。因为 TCP 存在的时间实在太长，已经充斥在各种设备中，并且这个协议是由操作系统实现的，更新起来不大现实。

基于这个原因，Google 就更起炉灶搞了一个基于 UDP 协议的 QUIC 协议，并且使用在了 HTTP/3 上，当然 HTTP/3 之前名为 HTTP-over-QUIC，从这个名字中我们也可以发现，HTTP/3 最大的改造就是使用了 QUIC，接下来我们就来学习关于这个协议的内容。

## QUIC

QUIC 基于 UDP，但是在原本的基础上增加了很多功能

### 多路复用
虽然HTTP/2支持多路复用，但是 TCP 协议是没有这个功能的，QUIC就原生实现了这个功能，并且传输的单个数据流可以保证有效交付且不会影响其他的数据流。

QUIC 在移动端的表现也比 TCP 好，因为TCP是基于 IP 和端口实现连接的，这种方式在多边的移动端网络下很脆弱。但是QUIC 是通过一个ID去识别一个连接，不管你网络环境如何变化，只要ID不变，就能迅速连上。

### 0-RTT

RTT(Round-Trip Time)：往返时延。是指数据从网络一端传到另一端所需的时间。

缓存当前会话的上下文，在下次回复会话的时候，只需要将之前缓存传递给服务器验证通过就可以传输了。

### 纠错机制
假如我要发三个包，那么协议就会计算出这三个包的与或值并单独发出一个校验包，总共发了四个包。当其中非校验包出现丢包的情况，通过其他三个包就可以计算出丢失的数据包的内容了

只能用在丢失一个包的情况下，多个包就不行了，只能使用重传的方式。