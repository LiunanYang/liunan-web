获得了两个计算机的 IP 地址，我们可以判断它们是否处于子网中。

如果处于同一子网中，计算机A 要给计算机 B发送数据，我们可以通过ARP协议得到计算机 B 的MAC 地址。

如果不处于同一子网中，就会把数据包发给上一层路由器(网关),让网关帮我们转发。

## ARP 具体过程

ARP 通过 路由器 进行广播的形式给同一个子网中的每台电脑发送一个数据包(包含接受方的IP地址)，对方收到这个数据包后，会取出 IP 地址与自身的比较，如果相同，就把自己的 MAC 地址回复给对方，否则就丢弃这个数据包。

其它电脑怎么知道你是想传输数据还是询问 MAC 地址呢？在询问 MAC 地址的数据包中，在对方的 MAC 地址这一栏，填的是一个特殊的 MAC 地址(ff-ff-ff-ff-ff-ff)，其它计算机看到这个特殊的 MAC 地址后，就知道为啥找它了。