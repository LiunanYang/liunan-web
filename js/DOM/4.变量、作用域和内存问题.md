# 基本类型和引用类型的值
- **基本类型值**是指的时简单的数据段
- **引用类型值**指那些可能由多个值构成的对象

## 动态的属性
- 定义基本类型值和引用类型值得方式是类似得:创建一个变量并为该变量赋值。对于引用类型的值，我们可以为其添加属性和方法，也可以改变和删除其属性和方法
- 只能给引用类型值动态添加属性，以便将来使用。

## 复制变量值
- 除了保存的方式不同之外，在从一个变量向另一个变量复制基本类型值和引用类型值时，也存在不同。
- 如果从一个变量向另一个变量复制基本类型的值，会在变量上创建一个新值，然后把该值复制到为新变量分配的位置上。
- 当一个变量向另一个变量复制引用类型的值时，同样也会将存储在变量对象中的值复制一份放到为新变量分配的空间中。

## 传递参数
- EMCAScript 中所有函数的参数都是按值传递的。
- 在向参数传递基本类型的值时，被传递的值会被复制给一个局部变量(即命名参数，就是arguments对象中的一个元素)
- 在向参数传递引用类型的值时，会把这个值在内存中的地址复制给一个局部变量，因此这个局部变量的变化会反应在函数的外部

## 检测类型
- 要检测一个变量是不是基本数据类型，typeof 操作符是最佳的工具
- 检测引用数据类型的值时，用 instanceof操作符
```
result = variable instanceof constructor
```

如果变量是引用数据类型的实例(根据它的原型链来识别)，那么instanceof操作符就会返回true
```
alert(person instanceof Object)  //变量person是Object吗？
alert(colors instanceof Array)  //变量colors是Array吗？
alert(person instanceof RegExp)  //变量person是RegExp吗？
```
# 执行环境及作用域
- 执行环境定义了变量或函数有权访问的其他数据，决定了他们各自的行为。每个执行环境都有一个与之关联的**变量对象**，环境中定义的所有变量和函数都保存在这个对象中。虽然我们编写的代码无法访问这个对象，但解析器在处理数据时会在后台使用它。
- 每个函数都有自己的**执行环境**。当执行流进入一个函数时，函数的环境就会被推入一个环境栈中。而在函数执行之后，栈将其环境弹出，把控制权返回给之前的执行环境。

## 延长作用域链
- 执行环境的类型总共有两种，全局和局部(函数)，但还是有其他方法来延长作用域链。
- 有些语句可以在作用域链的前端临时增加一个变量对象，该变量对象会在代码执行后被移除

1. try-catch语句中的catch块
> 会创建一个新的变量对象，其中包含的是被抛出的错误对象的声明
2. with语句
> 会将指定的对象添加到作用域链中
        
## 没有块级作用域链
- 在其他类C的语言中，由花括号封闭的代码块都有自己的作用域(执行环境)
- 在javascript中，if语句中的变量声明会将变量添加到当前的执行环境


# 垃圾收集
- Javascript 具有自动垃圾收集机制，执行环境会负责管理代码执行过程中使用的内存
- 原理：找出那些不再继续使用的变量，然后释放其占用的内存。垃圾收集器会按照固定的时间间隔，周期性地执行这一操作。
- 局部变量只在函数执行的过程中存在，会为局部变量在栈或堆内存上分配相应的空间，以便存储他们的值

## 标记清除
- 最常用的垃圾收集方式
- 当变量进入环境时，就将这个变量标记为"进入环境"。从逻辑上讲，永远不能释放进入环境的变量所占用的内存，只要执行流进入相应的环境，就可能会用到他们。而当变量离开环境时，则将其标记为 "离开环境"

## 引用计数
- 跟踪纪录每个值被引用的次数
- 释放引用次数为0的值所占用的内存

## 性能问题
- 垃圾收集器是周期性运行的，而且如果未变量分配的内存数量很客观，那么回收工作量也是相当大的。

## 管理内存
- js在进行内存管理及垃圾收集时面临的问题，就是分配给web浏览器的可用内存数量通常要比分配给桌面应用程序的少。
- 目的是：防止运行js的网页耗尽全部系统内存而导致系统崩溃
- 内存限制问题不仅会影响给变量分配内存，同时还会影响调用栈以及在一个现成中能够同时执行的语句数量
- 优化内存占用的最佳方式：未执行中的代码只保存必要的数据。一旦数据不再有用，最好通过将其值设置为null来释放其引用--这个做法叫做**接触引用**
- 接触引用并不意味着自动回收该值所占用的内存。真正作用是让值脱离执行环境，以便垃圾收集器下次运行时将其回收。






































